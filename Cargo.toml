[workspace]
members = [
    "crates/beacon-client",
    "crates/api",
    "crates/utils",
    "crates/common",
    "crates/database",
    "crates/datastore",
    "crates/cmd",
    "crates/housekeeper",
]
resolver = "2"

[workspace.package]
version = "0.0.1"
rust-version = "1.81.0"
edition = "2021"
repository = "https://github.com/gattaca-com/helix"
license = "MIT OR Apache-2.0"

[workspace.dependencies]
helix-api = { path = "./crates/api" }
helix-beacon-client = { path = "./crates/beacon-client" }
helix-common = { path = "crates/common" }
helix-database = { path = "./crates/database" }
helix-datastore = { path = "./crates/datastore" }
helix-housekeeper = { path = "./crates/housekeeper" }
helix-utils = { path = "./crates/utils" }

# Async and Networking 
async-trait = "0.1.83"
axum = {version = "0.7.6", features = ["ws"]}
dashmap = { version = "6.1.0", features = [] }
futures = "0.3.30"
hyper = "1.4.1"
http = "1.1.0"
tower = { version = "0.5.1", features = ["full"] }
reqwest = { version = "0.12.7", features = ["json", "native-tls-vendored", "stream"] }
tokio = { version = "1.40.0", features = ["full"] }
tokio-stream = {version = "0.1.16", features = ["sync"]}
tower-http = { version = "0.6.1", features = ["limit"] }
url = "2.5.2"
tonic = "0.12.2"
prost = "0.13.3"
tonic-build = "0.12.2"
reqwest-eventsource = "0.6.0"
futures-util = "0.3.30"

# Serialization and Data Format 
serde = { version = "1.0.210", features = ["derive"] }
serde_json = "1.0.128"
hex = "0.4.3"
flate2 = "1.0.33"
serde_yaml = "0.9.33"

# DB 
deadpool-redis = { version = "0.12.0", features = ["rt_tokio_1"] }
redis = { version = "0.23.2", features = ["aio", "tokio-comp"] }
tokio-postgres = "0.7.12"
tokio-postgres-rustls = "0.12.0"
deadpool-postgres = "0.14.0"
refinery = { version = "0.8.14", features = ["tokio-postgres"]}
bytes = "1.7.2"
chrono = "0.4.38"

# Ethereum Types
ethereum-consensus = { git = "https://github.com/ralexstokes/ethereum-consensus", rev = "cf3c404043230559660810bc0c9d6d5a8498d819" }
reth-primitives = { git = "https://github.com/paradigmxyz/reth", tag = "v1.0.7" }

# Logging
tracing = "0.1.40"
tracing-subscriber = "0.3.18"
tracing-appender = "0.2.3"

# Testing and Mocking
mockito = "1.5.0"
serial_test = "3.1.1"
tracing-test = "0.2.5"
env_logger = "0.11.5"

# Misc
auto_impl = "1.2.0"
thiserror = "1.0.64"
uuid = { version = "1.10.0", features = ["fast-rng", "v4"] }
rand = "0.8.5"
moka = "0.12.8"
num_cpus = "1.16.0"
clap = {version = "4.5.18", features = ["derive"]}
rustls = "0.23.14"
rustls-native-certs = "0.8.0"

# Broadcasting
fiber = { git = "https://github.com/chainbound/fiber-rs.git", tag = "v0.7.4" }